---
title: 工作回顾-工程辅助系统
date: 2019-09-22 14:40:22
categories: 回顾
---

## 介绍

工程辅助系统主要包括SDK应用市场、SDK上传插件、路由协议查询、项目依赖关系查询这四个功能。

- **SDK应用市场**：客户端SDK缺乏管理，事业部之间各自为政，关于SDK的使用方式、依赖关系、源码位置缺乏文档统一。产出SDK应用市场，来辅助管理和集结SDK，简化沟通成本。
- **SDK上传插件**：客户端SDK发布随意，缺少审核机制，任何人都可以往核心库发布版本。SDK上传工具目的在于，约束SDK发布流程，并将发布人、当前分支、Git仓库、使用文档收集起来，供SDK市场展示。
- **路由协议查询**：客户端组件化后，路由协议分散到各个SDK上。前端开发在容器之后进行业务开发时，对原生路由协议的认知几乎黑盒，已成为业务开发的很大卡点。产出路由协议查询功能，提供对应项目的协议查询能力。
- **项目依赖关系**：各大App平台，依赖的SDK版本不一，架构组无法掌握项目中SDK的依赖关系。提供项目依赖关系图，帮助架构组掌握SDK的依赖情况与健康度。

## 工作职责

工程辅助系统，我主要负责：

- 规划工程辅助系统重点方向；
- 设计系统总体视觉与交互；
- 开发Android上传工具，Android扫描任务，工程辅助系统后台搭建；

## 系统概览

<img width="600" src="/image/gongchenfuzhu_jiagoutu.png">

工程辅助服务，从移动端开发体系来尝试解决问题，主要由以下这个部分组成：

- React前端，提供SDK应用市场、项目依赖关系、路由协议查询的前端展示功能；
- 代码扫描器，支持Android和iOS的代码扫描工作，内部自行维护扫描任务队列；
- Node后端，用于提供SDK信息、项目依赖、协议信息的增删改查，并执行定时扫描任务；
- SDK上传工具，规范化客户端SDK的发布流程，并在上传完成后，向Node后端发送SDK扫描请求；

### Android扫描流程概览

<img width="600" src="/image/gongchefuzhu_android_scanner.jpg">

### SDK上传插件

Android端SDK上传插件，是基于Gradle Maven Task的二次封装。在原生Task基础之上，封装了额外功能，包括本地测试发布、远程发布和多渠道发布。同时，为SDK发布添加了一些标准化规范，包括发布人、Git仓库地址、Git Branch、Git Tag。

<img width="600" src="/image/gongchenfuzhu_maven_upload.jpg">

